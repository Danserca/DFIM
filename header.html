<script>
document.addEventListener("DOMContentLoaded", function() {
  var codeBlocks = document.querySelectorAll("pre code");
  codeBlocks.forEach(function(block) {
    var button = document.createElement("button");
    button.className = "copy-button";
    button.type = "button";
    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M10 1.5v1h2a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5h2v-1a.5.5 0 0 1 1 0v1h2v-1a.5.5 0 0 1 1 0zM4.5 3v11h7V3h-7zm4-1v1h-3V2h3z"/></svg>';

    button.addEventListener("click", function() {
      var code = block.innerText;
      navigator.clipboard.writeText(code).then(function() {
        button.innerHTML = 'Copied!';
        setTimeout(function() {
          button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M10 1.5v1h2a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5h2v-1a.5.5 0 0 1 1 0v1h2v-1a.5.5 0 0 1 1 0zM4.5 3v11h7V3h-7zm4-1v1h-3V2h3z"/></svg>';
        }, 2000);
      });
    });

    var pre = block.parentNode;
    pre.style.position = "relative";
    pre.insertBefore(button, block);
  });
});
</script>
